<!--
  ==========================================
  ГЛАВНЫЙ КОМПОНЕНТ ПРИЛОЖЕНИЯ (App.vue)
  ==========================================
  
  Корневой компонент TestMaster.
  Отвечает за:
  - Отображение навигационной панели
  - Восстановление сессии пользователя
  - Отрисовку текущей страницы (router-view)
-->

<template>
  <!-- Обёртка всего приложения -->
  <div class="app">
    
    <!-- Верхняя навигационная панель -->
    <NavBar />
    
    <!-- Основной контент - сюда подставляются страницы -->
    <main class="main-content">
      <router-view />
    </main>
    
  </div>
</template>

<script setup lang="ts">
/**
 * Импорты
 */
import NavBar from '@/components/NavBar.vue'
import { useAuthStore } from '@/stores/auth'

/**
 * Хранилище авторизации
 */
const authStore = useAuthStore()

/**
 * При загрузке приложения восстанавливаем сессию
 * из localStorage (если пользователь был залогинен)
 */
authStore.restoreSession()
</script>

<style>
/* ==========================================
   ОСНОВНЫЕ СТИЛИ ПРИЛОЖЕНИЯ
   ========================================== */

/* Контейнер приложения */
.app {
  min-height: 100vh;      /* Минимальная высота = весь экран */
  display: flex;          /* Flexbox для колоночного layout */
  flex-direction: column; /* Элементы располагаются вертикально */
}

/* Основной контент (занимает всё оставшееся место) */
.main-content {
  flex: 1; /* Растягивается на всё свободное пространство */
}
</style>
